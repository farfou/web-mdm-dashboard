webpackJsonp([5],{182:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,i){try{var o=t[r](i),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(30),c=n.n(s),u=n(0),l=n.n(u),p=n(1),d=n.n(p),f=n(7),v=n(68),m=n(64),h=n(61),b=n(6),y=n(60),g=n(2),k=n(31),_=n(9),w=n.n(_),x=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),E=function(e){function t(e){var n=this;r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.requestValidation=function(){var e=a(c.a.mark(function e(t,a){var r,i,s,u,l,p,d,f,v;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.props.glpi.initSessionByUserToken({userToken:w.a.demoToken});case 3:return r=e.sent,o.props.glpi.sessionToken=r.session_token,e.next=7,o.props.glpi.updateItem({itemtype:y.a.PluginFlyvemdmdemoAccountvalidation,id:t,input:{_validate:a}});case 7:if(i=e.sent,s=!1,!Array.isArray(i)){e.next=37;break}u=!0,l=!1,p=void 0,e.prev=13,d=i[Symbol.iterator]();case 15:if(u=(f=d.next()).done){e.next=23;break}if(v=f.value,!v[t]){e.next=20;break}return s=!0,e.abrupt("break",23);case 20:u=!0,e.next=15;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(13),l=!0,p=e.t0;case 29:e.prev=29,e.prev=30,!u&&d.return&&d.return();case 32:if(e.prev=32,!l){e.next=35;break}throw p;case 35:return e.finish(32);case 36:return e.finish(29);case 37:o.setState({isLoading:!1,isValidated:s}),e.next=44;break;case 40:e.prev=40,e.t1=e.catch(0),o.props.toast.setNotification(o.props.handleMessage({type:"warning",message:e.t1})),o.setState({isLoading:!1,isValidated:!1});case 44:case"end":return e.stop()}},e,n,[[0,40],[13,25,29,37],[30,,32,36]])}));return function(t,n){return e.apply(this,arguments)}}(),o.state={isValidated:!1,isLoading:!1},o}return o(t,e),x(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname.replace("/validateAccount/","&validateAccount=");e=e.replace("/validation/","&validation=");var t=new URLSearchParams(e),n=t.get("validateAccount"),a=t.get("validation");n&&a&&(this.setState({isLoading:!0}),this.requestValidation(n,a))}},{key:"render",value:function(){return this.state.isLoading?l.a.createElement("div",{style:{height:"140px"}},l.a.createElement(k.a,{message:g.default.t("commons.loading")+"..."})):this.state.isValidated?l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,g.default.t("validate_account.title")),l.a.createElement("p",null,g.default.t("validate_account.is_validated"),l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement(f.a,{to:b.a+"/"},g.default.t("commons.sign_in")))):l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,g.default.t("validate_account.title")),l.a.createElement("p",null,g.default.t("validate_account.message"),l.a.createElement("br",null)))}}]),t}(u.PureComponent);E.propTypes={toast:d.a.shape({setNotification:d.a.func}).isRequired,glpi:d.a.object.isRequired,location:d.a.object.isRequired,handleMessage:d.a.func.isRequired},t.default=Object(v.a)(Object(h.a)(Object(m.a)(E)),{centerContent:!0})}});
//# sourceMappingURL=5.f5d3fe87.chunk.js.map